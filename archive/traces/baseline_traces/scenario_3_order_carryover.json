{
  "description": "Scenario 3: Order Carryover",
  "purpose": "Verify that standing orders persist when no trade occurs",
  "setup": {
    "num_buyers": 2,
    "num_sellers": 2,
    "num_times": 4,
    "min_price": 0,
    "max_price": 200,
    "seed": 42
  },
  "agents": [
    {
      "player_id": 1,
      "is_buyer": true,
      "num_tokens": 1,
      "valuations": [100]
    },
    {
      "player_id": 2,
      "is_buyer": true,
      "num_tokens": 1,
      "valuations": [95]
    },
    {
      "player_id": 1,
      "is_buyer": false,
      "num_tokens": 1,
      "valuations": [70]
    },
    {
      "player_id": 2,
      "is_buyer": false,
      "num_tokens": 1,
      "valuations": [75]
    }
  ],
  "timesteps": [
    {
      "time": 1,
      "actions": {
        "bids": {
          "1": 90,
          "2": 88
        },
        "asks": {
          "1": 80,
          "2": 82
        },
        "buyer_accepts": {
          "1": false
        },
        "seller_accepts": {
          "1": false
        }
      },
      "expected_outcomes": {
        "high_bidder": 1,
        "high_bid": 90,
        "low_asker": 1,
        "low_ask": 80,
        "buyer_accepted": false,
        "seller_accepted": false,
        "trade_price": 0,
        "bid_status_1": 2,
        "bid_status_2": 3,
        "ask_status_1": 2,
        "ask_status_2": 3,
        "comment": "No trade → orders carry over. Status: 2=new winner, 3=beaten"
      }
    },
    {
      "time": 2,
      "actions": {
        "bids": {},
        "asks": {},
        "buyer_accepts": {
          "1": false
        },
        "seller_accepts": {
          "1": false
        }
      },
      "expected_outcomes": {
        "high_bidder": 1,
        "high_bid": 90,
        "low_asker": 1,
        "low_ask": 80,
        "buyer_accepted": false,
        "seller_accepted": false,
        "trade_price": 0,
        "bid_status_1": 1,
        "bid_status_2": 0,
        "ask_status_1": 1,
        "ask_status_2": 0,
        "comment": "Orders still carry over. Status: 1=still winner, 0=not winner/no new bid"
      }
    },
    {
      "time": 3,
      "actions": {
        "bids": {
          "2": 91
        },
        "asks": {},
        "buyer_accepts": {
          "2": false
        },
        "seller_accepts": {
          "1": false
        }
      },
      "expected_outcomes": {
        "high_bidder": 2,
        "high_bid": 91,
        "low_asker": 1,
        "low_ask": 80,
        "buyer_accepted": false,
        "seller_accepted": false,
        "trade_price": 0,
        "bid_status_1": 0,
        "bid_status_2": 2,
        "ask_status_1": 1,
        "ask_status_2": 0,
        "comment": "Buyer 2 improves bid (91 > 90) and becomes new high bidder"
      }
    },
    {
      "time": 4,
      "actions": {
        "bids": {},
        "asks": {},
        "buyer_accepts": {
          "2": true
        },
        "seller_accepts": {
          "1": true
        }
      },
      "expected_outcomes": {
        "high_bidder": 2,
        "high_bid": 91,
        "low_asker": 1,
        "low_ask": 80,
        "buyer_accepted": true,
        "seller_accepted": true,
        "trade_price": 91,
        "comment": "Both accept → trade occurs. With seed progression, should be bid price"
      }
    }
  ]
}
